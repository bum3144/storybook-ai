<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>Storybook AI Â· ë‚˜ë§Œì˜ ë™í™” ë§Œë“¤ê¸°</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />

  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ“š</text></svg>">

  <style>
    :root {
      --bg: #f8f9fa;
      --text: #1f2937;
      --card-bg: #ffffff;
      --primary: #2563eb;
      --muted: #6b7280;
    }
    body {
        margin:0;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        background: var(--bg);
        color: var(--text);
    }

    /* ìƒë‹¨ ì¥ì‹ ë°” */
    .top-bar { height: 6px; background: linear-gradient(90deg, #2563eb, #9333ea); }

    .wrap { max-width: 1100px; margin: 0 auto; padding: 40px 20px; }

    /* í—¤ë” ë° ë¡œê³  */
    header { margin-bottom: 50px; text-align: center; }
    .logo-area { display: inline-flex; align-items: center; gap: 12px; margin-bottom: 10px; }
    .logo-icon { font-size: 40px; }
    h1 { font-size: 32px; font-weight: 800; margin: 0; letter-spacing: -0.5px; color: #111; }
    .subtitle { color: var(--muted); font-size: 16px; margin-top: 8px; }

    /* ë©”ì¸ ë°°ë„ˆ (ëª¨ë“œ ì„ íƒ) */
    .hero-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-bottom: 60px; }
    .hero-card {
      position: relative;
      height: 240px;
      background: #fff;
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 10px 25px rgba(0,0,0,0.06);
      transition: transform 0.2s, box-shadow 0.2s;
      cursor: pointer;
      text-decoration: none;
      color: inherit;
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
      padding: 30px;
      border: 1px solid rgba(0,0,0,0.05);
    }
    .hero-card:hover { transform: translateY(-5px); box-shadow: 0 20px 40px rgba(0,0,0,0.12); }

    .hero-card.direct {
        background: linear-gradient(135deg, #e0f2fe 0%, #bae6fd 100%);
        color: #0369a1;
    }
    .hero-card.ai {
        background: linear-gradient(135deg, #fce7f3 0%, #fbcfe8 100%);
        color: #be185d;
    }

    .hero-tag {
        display: inline-block;
        background: rgba(255,255,255,0.6);
        padding: 6px 14px;
        border-radius: 99px;
        font-size: 13px; font-weight: 700;
        margin-bottom: auto;
        backdrop-filter: blur(4px);
    }
    .hero-title { font-size: 26px; font-weight: 800; margin: 0 0 8px 0; }
    .hero-desc { font-size: 15px; opacity: 0.9; margin: 0; line-height: 1.5; font-weight: 500; }

    /* ìŠ¤í† ë¦¬ ê°¤ëŸ¬ë¦¬ ê·¸ë¦¬ë“œ */
    .section-header {
        display: flex; align-items: center; justify-content: space-between;
        margin-bottom: 24px; padding-bottom: 15px; border-bottom: 2px solid #e5e7eb;
    }
    .section-title { font-size: 22px; font-weight: 700; margin: 0; display: flex; align-items: center; gap: 8px; }
    .story-count { background: #e5e7eb; color: #4b5563; padding: 2px 10px; border-radius: 12px; font-size: 14px; }

    .gallery-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 24px;
    }
    .story-card {
      background: var(--card-bg);
      border-radius: 16px;
      overflow: hidden;
      box-shadow: 0 4px 6px rgba(0,0,0,0.03);
      transition: all 0.2s;
      text-decoration: none;
      color: inherit;
      border: 1px solid #f3f4f6;
    }
    .story-card:hover { transform: translateY(-5px); box-shadow: 0 12px 20px rgba(0,0,0,0.08); }

    .thumb { height: 200px; background: #f3f4f6; position: relative; overflow: hidden; }
    .thumb img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.3s; }
    .story-card:hover .thumb img { transform: scale(1.05); }

    .thumb-placeholder {
        display: flex; flex-direction: column; align-items: center; justify-content: center;
        height: 100%; color: #9ca3af;
    }
    .thumb-icon { font-size: 40px; margin-bottom: 10px; opacity: 0.5; }

    .info { padding: 18px; }
    .info h3 { margin: 0 0 6px 0; font-size: 17px; font-weight: 700; color: #111; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    .info .meta { font-size: 13px; color: var(--muted); display: flex; justify-content: space-between; }

    /* ë¹ˆ ë°ì´í„° ìƒíƒœ */
    .empty-state {
        grid-column: 1 / -1;
        text-align: center; padding: 80px;
        color: var(--muted);
        background: #fff;
        border-radius: 20px;
        border: 2px dashed #e5e7eb;
    }

    @media (max-width: 900px) { .gallery-grid { grid-template-columns: repeat(2, 1fr); } }
    @media (max-width: 600px) { .hero-grid { grid-template-columns: 1fr; } .gallery-grid { grid-template-columns: 1fr; } }
  </style>
</head>
<body>
  <div class="top-bar"></div>
  <div class="wrap">

    <header>
      <div class="logo-area">
        <span class="logo-icon">ğŸ“š</span>
        <h1>Storybook AI</h1>
      </div>
      <div class="subtitle">ìƒìƒ ì† ì´ì•¼ê¸°ë¥¼ ê·¸ë¦¼ ë™í™”ì±…ìœ¼ë¡œ ë§Œë“¤ì–´ë³´ì„¸ìš”.</div>
    </header>

    <div class="hero-grid">
      <a href="/editor?mode=write" class="hero-card direct">
        <span class="hero-tag">âœï¸ ì‘ê°€ ëª¨ë“œ</span>
        <div>
            <h2 class="hero-title">ì§ì ‘ ì´ì•¼ê¸° ì“°ê¸°</h2>
            <p class="hero-desc">ë‚´ê°€ ìƒìƒí•œ ë‚´ìš©ì„ ê¸€ë¡œ ì ìœ¼ë©´<br/>AIê°€ ì¥ë©´ì— ë§ëŠ” ê·¸ë¦¼ì„ ê·¸ë ¤ì¤˜ìš”.</p>
        </div>
      </a>

      <a href="/editor?mode=ai" class="hero-card ai">
        <span class="hero-tag">âœ¨ AI í˜‘ì—… ëª¨ë“œ</span>
        <div>
            <h2 class="hero-title">AIì™€ í•¨ê»˜ ë§Œë“¤ê¸°</h2>
            <p class="hero-desc">í‚¤ì›Œë“œë§Œ ë˜ì ¸ì£¼ì„¸ìš”.<br/>AIê°€ ë©‹ì§„ ìŠ¤í† ë¦¬ì™€ ê·¸ë¦¼ì„ ëª¨ë‘ ì°½ì‘í•´ì¤ë‹ˆë‹¤.</p>
        </div>
      </a>
    </div>

    <div class="section-header">
        <h2 class="section-title">ë‚´ ì„œì¬ <span class="story-count">{{ stories|length }}ê¶Œ</span></h2>
    </div>

    <div class="gallery-grid">
      {% for story in stories %}
      <a href="/preview/{{ story.id }}" class="story-card">
        <div class="thumb">
          {% if story.thumb_url %}
            <img src="{{ story.thumb_url }}" alt="í‘œì§€" loading="lazy">
          {% else %}
            <div class="thumb-placeholder">
                <span class="thumb-icon">ğŸ“–</span>
                <span style="font-size:12px">í‘œì§€ ì—†ìŒ</span>
            </div>
          {% endif %}
        </div>
        <div class="info">
          <h3>{{ story.title }}</h3>
          <div class="meta">
              <span>{{ story.genre or 'ë™í™”' }}</span>
              <span>{{ story.created_at[:10] }}</span>
          </div>
        </div>
      </a>
      {% else %}
      <div class="empty-state">
        <div style="font-size:40px; margin-bottom:10px">ğŸ“­</div>
        <p>ì•„ì§ ë§Œë“¤ì–´ì§„ ë™í™”ì±…ì´ ì—†ì–´ìš”.<br/>ìœ„ì˜ ì¹´ë“œë¥¼ ëˆŒëŸ¬ ì²« ë²ˆì§¸ ì´ì•¼ê¸°ë¥¼ ë§Œë“¤ì–´ë³´ì„¸ìš”!</p>
      </div>
      {% endfor %}
    </div>
  </div>
</body>
</html>